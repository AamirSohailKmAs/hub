<div id="menuOverlay" class="kmars-overlay kmars-transparent" style="cursor:pointer;z-index:14"></div>
  <div id="textareacontainer">
    <div id="textarea">
      <div id="textareawrapper">
<textarea autocomplete="off" id="textareaCode" wrap="logical" spellcheck="false"><!DOCTYPE html>
<html>
<body>
<style>
.html {border-radius: 16px;}
</style>
<p id="kmars">Click the button to change the layout of this paragraph</p>


<a href="/2010/07/demo-v5.0.html">Demo v 5.0</a>
<button onclick="myFunction()">Click Me!</button>

<p>The <abbr title="World Health Organization">WHO</abbr> was founded in 1948.</p>



<svg class="html" height="300" width="200">
  <polygon points="0,0 120,0 200,80 200,300 0,300" style="fill:red;" />
  Sorry, your browser does not support inline SVG.
</svg>
<svg class="html" height="300" width="200">
  <polygon points="0,0 120,0 200,80 200,300 0,300" style="fill:lime;" />
  Sorry, your browser does not support inline SVG.
</svg>
<svg class="html" height="300" width="200">
  <polygon points="0,0 120,0 200,80 200,300 0,300" style="fill:blue;" />
  Sorry, your browser does not support inline SVG.
</svg>
<script>
function myFunction() {
    var x = document.getElementById("kmars");
    x.style.fontSize = "30px"; 
    x.style.color = "lime"; 
}
</script>
</body>
</html></textarea>
<form id="codeForm" autocomplete="off" style="margin:0px;display:none;">
          <input type="hidden" name="code" id="code" />
        </form>
       </div>
    </div>
  </div>

  <div id="iframecontainer">
    <div id="iframe">
      <div id="iframewrapper"></div>
    </div>
  </div>
<script>  
var fileID = "";
var loadSave = false;
function getSavedFile() {
    loadSave = true;
    var htmlCode;
    var paramObj = {};
    paramObj.fileid = "";
    fileID = paramObj.fileid;
    var paramA = JSON.stringify(paramObj);
    var httpA = new XMLHttpRequest();
    httpA.open("POST", globalURL, true);
    httpA.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    httpA.onreadystatechange = function() {
        if(httpA.readyState == 4 && httpA.status == 200) {
            document.getElementById("textareaCode").value = httpA.responseText;
            window.editor.getDoc().setValue(httpA.responseText);
            loadSave = false;
        }
    }
    httpA.send(paramA);   
}

  function submitTryit(n) {
  if (window.editor) {
    window.editor.save();
  }
  var text = document.getElementById("textareaCode").value;
  var ifr = document.createElement("iframe");
  ifr.setAttribute("frameborder", "0");
  ifr.setAttribute("id", "iframeResult");
  ifr.setAttribute("name", "iframeResult");  
  document.getElementById("iframewrapper").innerHTML = "";
  document.getElementById("iframewrapper").appendChild(ifr);
  if (loadSave == true ) {
    ifr.setAttribute("src", "/p/code.html");
  } else if (fileID != "" && loadSave == false) {
    var t=text;
    t=t.replace(/=/gi,"kmarsequalsign");
    t=t.replace(/\+/gi,"kmarsplussign");    
    var pos=t.search(/script/i)
    while (pos>0) {
      t=t.substring(0,pos) + "kmars" + t.substr(pos,3) + "kmars" + t.substr(pos+3,3) + "tag" + t.substr(pos+6);
     pos=t.search(/script/i);
    }
    document.getElementById("code").value=t;
    document.getElementById("codeForm").action = "https://kmarsweb.blogspot.com/p/demo.html?x=" + Math.random();
    document.getElementById('codeForm').method = "post";
    document.getElementById('codeForm').acceptCharset = "utf-8";
    document.getElementById('codeForm').target = "iframeResult";
    document.getElementById("codeForm").submit();
  } else {
    var ifrw = (ifr.contentWindow) ? ifr.contentWindow : (ifr.contentDocument.document) ? ifr.contentDocument.document : ifr.contentDocument;
    ifrw.document.open();
    ifrw.document.write(text);  
    ifrw.document.close();
    //23.02.2016: contentEditable is set to true, to fix text-selection (bug) in firefox.
    //(and back to false to prevent the content from being editable)
    //(To reproduce the error: Select text in the result window with, and without, the contentEditable statements below.)  
    if (ifrw.document.body && !ifrw.document.body.isContentEditable) {
      ifrw.document.body.contentEditable = true;
      ifrw.document.body.contentEditable = false;
    }
  }
}
  function colorcoding() {
  var ua = navigator.userAgent;
  //Opera Mini refreshes the page when trying to edit the textarea.
  if (ua && ua.toUpperCase().indexOf("OPERA MINI") > -1) { return false; }

}
colorcoding();

function kmars_getStyleValue(elmnt,style) {
    if (window.getComputedStyle) {
        return window.getComputedStyle(elmnt,null).getPropertyValue(style);
    } else {
        return elmnt.currentStyle[style];
    }
}
</script>
